<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Tue Nov 07 23:08:42 EST 2023 -->
<title>Toughkey</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-11-07">
<meta name="description" content="declaration: package: co.lokblok.toughkey_android_library, class: Toughkey">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Toughkey.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">co.lokblok.toughkey_android_library</a></div>
<h1 title="Class Toughkey" class="title">Class Toughkey</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">co.lokblok.toughkey_android_library.Toughkey</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Toughkey</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A class that represents a Lokblok Toughkey accessed over NFC on an Android mobile device.
 This class can be used to list and retrieve data objects that have been created on
 Toughkey using another device with the opensc-pkcs11 library.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2023-11-06</dd>
<dt>Version:</dt>
<dd>0.1</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">Toughkey</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Toughkey constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#activateToughkey()" class="member-name-link">activateToughkey</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Starts a session with Toughkey; waits for Toughkey to be inserted or held to the back of the
 device where the NFC antenna is located.<br><br>

 <b>Example:</b></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deActivateToughkey()" class="member-name-link">deActivateToughkey</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Shuts down the card service for Toughkey, no more commands may be sent.<br><br>

 <b>Example:</b></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>byte[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getObject(java.lang.String)" class="member-name-link">getObject</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;objectId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the data for the object specified.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getObjectList()" class="member-name-link">getObjectList</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets a list of PKCS11/PKCS15 objects found on Toughkey</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#hexify(byte%5B%5D)" class="member-name-link">hexify</a><wbr>(byte[]&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Convert binary data into a hexadecimal string</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initToughkey(Activity)" class="member-name-link">initToughkey</a><wbr>(Activity&nbsp;app)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">One time initialization of the library after the Toughkey object is created.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#verifyPassword(java.lang.String)" class="member-name-link">verifyPassword</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Login to Toughkey using a string containing the user's password.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>Toughkey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Toughkey</span>()</div>
<div class="block">Toughkey constructor.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="initToughkey(Activity)">
<h3>initToughkey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">initToughkey</span><wbr><span class="parameters">(Activity&nbsp;app)</span></div>
<div class="block">One time initialization of the library after the Toughkey object is created.  Sets the activity
 and binds the card service to the activity.<br><br>

 The card service must be set in AndroidManifest.xml as follows:
 <pre>
 <code>
 &lt;Application&gt;
     ...
     &lt;service
         android:name="co.lokblok.Toughkey_android_library.AndroidCardService"
         android:label="Android Card Service"&gt;
     &lt;/service&gt;
     ...
 &lt;/Application&gt;
 </code>
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>app</code> - the activity that will host the card service.<br><br>

 <b>Example:</b><br><br>
 From the onCreate method of an Activity in the application:<br>
 <pre>
 <code>
 public void onCreate(Bundle savedInstanceState) {
   ...
   Toughkey.initToughkey(this);
   ...
 }
 </code>
 </pre></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="activateToughkey()">
<h3>activateToughkey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">activateToughkey</span>()</div>
<div class="block">Starts a session with Toughkey; waits for Toughkey to be inserted or held to the back of the
 device where the NFC antenna is located.<br><br>

 <b>Example:</b>
 <pre>
 <code>
 try {
   activateToughkey();
   if (verifyPassword(password)) {
     ...
   } else {
     ...
   }
 } finally {
   deActivateToughkey();
 }
 </code>
 </pre></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#deActivateToughkey()"><code>deActivateToughkey()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deActivateToughkey()">
<h3>deActivateToughkey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">deActivateToughkey</span>()</div>
<div class="block">Shuts down the card service for Toughkey, no more commands may be sent.<br><br>

 <b>Example:</b>
 <pre>
 <code>
 try {
   activateToughkey();
   if (verifyPassword(password)) {
     ...
   } else {
     ...
   }
 } finally {
   deActivateToughkey();
 }
 </code>
 </pre></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#activateToughkey()"><code>activateToughkey()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="verifyPassword(java.lang.String)">
<h3>verifyPassword</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">verifyPassword</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password)</span></div>
<div class="block">Login to Toughkey using a string containing the user's password.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>password</code> - the string containing the user's password or PIN</dd>
<dt>Returns:</dt>
<dd>true if successful otherwise returns false.<br><br>

 <b>Example:</b>
 <pre>
 <code>
 try {
   activateToughkey();
   if (verifyPassword(password)) {
     ...
   } else {
     ...
   }
 } finally {
   deActivateToughkey();
 }
 </code>
 </pre></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#activateToughkey()"><code>activateToughkey()</code></a></li>
<li><a href="#initToughkey(Activity)"><code>initToughkey(Activity)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getObjectList()">
<h3>getObjectList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">getObjectList</span>()</div>
<div class="block">Gets a list of PKCS11/PKCS15 objects found on Toughkey</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a String[] containing the strings of each object identifier found.<br><br>

 <b>Example:</b>
 <pre>
 <code>
 try {
   activateToughkey();
   verifyPassword(password);
   String[] objects = Toughkey.getObjectList();
   if (objects != null) {
     ...
   } else {
     ...
   }
 } finally {
   deActivateToughkey();
 }
 </code>
 </pre></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#getObject(java.lang.String)"><code>getObject(String)</code></a></li>
<li><a href="#initToughkey(Activity)"><code>initToughkey(Activity)</code></a></li>
<li><a href="#activateToughkey()"><code>activateToughkey()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getObject(java.lang.String)">
<h3>getObject</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">getObject</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;objectId)</span></div>
<div class="block">Gets the data for the object specified.  A partial match will be attempted if a shorter
 object id is provided.  The first object found matching or starting with the object id
 provided will be returned.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>objectId</code> - the string containing the whole or partial object id matching the data
                 object to be returned.</dd>
<dt>Returns:</dt>
<dd>the object data in a byte[]<br><br>

 <b>Example:</b>
 <pre>
 <code>
 try {
   activateToughkey();
   verifyPassword(password);
   String[] objects = Toughkey.getObjectList();
   if (objects != null) {
     byte[] firstObject = Toughkey.getObject(objects[0]);
     if (firstObject != null) {
       ...
     } else {
       ...
     }
   } else {
     ...
   }
 } catch (Exception e) {
   ...
 } finally {
   deActivateToughkey();
 }
 </code>
 </pre></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#getObjectList()"><code>getObjectList()</code></a></li>
<li><a href="#initToughkey(Activity)"><code>initToughkey(Activity)</code></a></li>
<li><a href="#activateToughkey()"><code>activateToughkey()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hexify(byte[])">
<h3>hexify</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">hexify</span><wbr><span class="parameters">(byte[]&nbsp;data)</span></div>
<div class="block">Convert binary data into a hexadecimal string</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - binary data used to change to a hexadecimal string.</dd>
<dt>Returns:</dt>
<dd>string containing hexadecimal string from the input byte[]<br><br>

 <b>Example:</b>
 <pre>
 <code>
 byte[] object = Toughkey.getObject(id);
 String hex = hexify(object);
 Log.i("Toughkey", "Data: " + hex);
 </code>
 </pre></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
